{% extends 'base.html' %}

{% load static %}

{% block content %}
<div class="card">
    <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs" role="tablist">
            <li class="nav-item"><a class="nav-link active" id="item-1-1-tab" data-toggle="tab" role="tab"
                    aria-controls="item-1-1" aria-selected="true" href="#item-1-1">View Attendance</a></li>
            <li class="nav-item"><a class="nav-link" id="item-1-2-tab" data-toggle="tab" role="tab"
                    aria-controls="item-1-2" aria-selected="false" href="#item-1-2">Mark Attendance</a></li>
        </ul>
    </div>
    <div class="card-body">
        <div id="nav-tabContent" class="tab-content">
            <!-- View attendance section-->
            <div id="item-1-1" class="tab-pane fade show active" role="tabpanel" aria-labelledby="item-1-1-tab">
                <div class="container">
                    <form action="#" method="POST" class="form-inline mb-2">
                        {% csrf_token %}
                        <div class="form-group">
                            <label class="mb-2">Select Year:</label>
                            <select class="form-control ml-2 mb-2" name="year">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                            </select>
                            <label class="mb-2 ml-2">Roll Number:</label>
                            <input class="form-control ml-2 mb-2" type="text" name="roll_number"
                                placeholder="XXX1747XXXX53" pattern="[0-9]{13}" required>
                            <label class="mb-2 ml-2">Select Semester:</label>
                            <select class="form-control ml-2 mb-2" name="year">
                                <option>Even</option>
                                <option>Odd</option>
                            </select>
                            <button class="btn btn-primary ml-2 mb-2" type="submit">View</button>
                        </div>
                    </form>
                    <div class="container shadow-lg p-3 mb-5 bg-white rounded">
                        <div class="row row-cols-2">
                            <div class="col-md-6 text-center align-self-center"><i class="fa fa-user"
                                    style="font-size: 100px;"></i>
                                {% for item in data_1 %}
                                <h5>{{item.student_name}}</h5>
                                <h5>{{ item.roll_number }}</h5>
                                {% endfor %}
                                {% for item in data_3 %}
                                <h5>Year : {{ item.exam_type }}</h5>
                                <h5>Semester : {{ item.exam_type }}</h5>
                                {% endfor %}
                                <p>Department of CSE/IT</p>
                            </div>
                            <div class="col-md-6 text-left">
                                <table id="example" class="table table-striped table-bordered reponsive"
                                    cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th>Sr No.</th>
                                            <th>Subject Name</th>
                                            <th>Total Attendance</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for item in data_2 %}
                                        <tr>
                                            <td>{{ item.subject_name }}</td>
                                            <td>{{ item.total_marks }}</td>
                                            <td>{{ item.obtained_marks }}</td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- add attendance section-->
            <div id="item-1-2" class="tab-pane fade show" role="tabpanel" aria-labelledby="item-1-2-tab">
                <div class="container">
                    <form action="#" method="POST" class="form-inline mb-2">
                        {% csrf_token %}
                        <div class="form-group">
                            <label class="mb-2">Select Year:</label>
                            <select class="form-control ml-2 mb-2" name="year">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                            </select>
                            <button class="btn btn-primary ml-2 mb-2" type="submit">View</button>
                        </div>
                    </form>
                </div>
                <div class="container">
                    <form action="#" method="POST" class="form-inline mb-2">
                        {% csrf_token %}
                        <table id="example" class="table table-striped table-bordered" cellspacing="0">
                            <thead>
                                <tr>
                                    <th>Sr No.</th>
                                    <th>Subject Name</th>
                                    <th>Total Attendance</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in data_2 %}
                                <tr>
                                    <td>{{ item.subject_name }}</td>
                                    <td>{{ item.total_marks }}</td>
                                    <td>{{ item.obtained_marks }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        <div class="form-group">
                            <label class="mb-2">Select Year:</label>
                            <select class="form-control ml-2 mb-2" name="year">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                            </select>
                            <label class="ml-2 mb-2">Date:</label>
                            <input type="text" class="form-control ml-2 mb-2" name="subject" placeholder="Date" required>
                            <label class="ml-2">Subject</label>
                            <input type="text" class="form-control ml-2 mb-2" name="subject" placeholder="Subject" required>
                            <button class="btn btn-primary ml-2 mb-2" type="submit">Mark Attendance</button>
                        </div>    
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}